# tag; required; values
#
# works as whitelist
# * tag: any tag number in TIFF
# * required: mandatory | optional | depends( $tag.$value ) 
# * values: range($start, $end) | logical_or( $a, …) | only($a) |any

# This defines a sample config for baseline tiffs
# Remember, because it works as whitelist for each required tag we need an
# entry here

#####
# Required Baseline Tags
#####

# 256	0100	ImageWidth	The number of columns in the image, i.e., the number of pixels per row.
256; mandatory; any

# 257	0101	ImageLength	The number of rows of pixels in the image.
257; mandatory; any

# 258	0102	BitsPerSample	Number of bits per component.
##########################258; mandatory; logical_or(8,16)
258; depends(262.0); logical_or(4,8)
258; depends(262.1); logical_or(4,8)
258; depends(262.2); only(8)

# 259	0103	Compression	Compression scheme used on the image data 
### (1 means no compression)
259; mandatory; only(1)

# 262	0106	PhotometricInterpretation	The color space of the image data.
### 2 means RGB, 0 and 1 means bilevel or grayscale, 0 is unusual, 3 is Palette Color (FORBIDDEN), 4 is Transparency Mask (FORBIDDEN)
262; mandatory; range(0, 2)

# 273	0111	StripOffsets	For each strip, the byte offset of that strip.
273; mandatory; any

# 277	0115	SamplesPerPixel	The number of components per pixel.
### if RGB then 3 else 1
### Even though Baseline TIFF allows for SamplesPerPixel>3, we do NOT allow this for long term archival.
277; depends(262.2); only(3)
277; depends(262.0); only(1)

# 278	0116	RowsPerStrip	The number of rows per strip.
278; mandatory; any

# 279	0117	StripByteCounts	For each strip, the number of bytes in the strip after compression.
279; mandatory; any

# 282	011A	XResolution	The number of pixels per ResolutionUnit in the ImageWidth direction.
282; mandatory; range(300, 1200)

# 283	011B	YResolution	The number of pixels per ResolutionUnit in the ImageLength direction.
283; mandatory; range(300, 1200)

# 296	0128	ResolutionUnit	The unit of measurement for XResolution and YResolution. 1 = No absolute unit of measurement. 2 = Inch. 3 = Centimeter. Default: 2
296; mandatory; only(2)

#####
# optional fields
#####

# 254	FE.H	NewSubfileType	A general indication of the kind of data contained in this subfile. These values are defined as bit flags because they are independent of each other. Default is 0.
254; optional; range(0, 7)

# 255	FF.H	SubfileType		A general indication of the kind of data contained in this subfile. This field is deprecated. The NewSubfileType field should be used instead.
255; optional; range(1, 3)

# 263	107.H	Threshholding	For black and white TIFF files that represent shades of gray, the technique used to convert from gray to black and white pixels. Default is 1.
263; optional; range(1, 3)

# 264	108.H	CellWidth	The width of the dithering or halftoning matrix used to create a dithered or halftoned bilevel file.
264; depends(263.2); any

# 265	109.H	CellLength	The length of the dithering or halftoning matrix used to create a dithered or halftoned bilevel file. This field should only be present if Threshholding = 2.
265; depends(263.2); any

# 266	10A.H	FillOrder	The logical order of bits within a byte.
### Support for FillOrder=2 is not required in a Baseline TIFF compliant reader. Default is 1.
266; optional; only(1)

# 270	10E.H	ImageDescription	A string that describes the subject of the image.
270; optional; any

# 271	10F.H	Make	The scanner manufacturer.
271; optional; any

# 272	110.H	Model	The scanner model name or number.
272; optional, any

# 274	112.H	Orientation		The orientation of the image with respect to the rows and columns. Default is 1. 
# 274; optional; range(1, 8)	# THIS IS NOT BASELINE TIFF!!! DO NOT UNCOMMENT!!!
274; optional; only(1)		# THIS _IS_ BASELINE TIFF!!!

# 280	118.H	MinSampleValue	The minimum component value used. Default is 0.
280; optional; any

# 281	119.H	MaxSampleValue	The maximum component value used; only for statistical purposes. Default is 2**(BitsPerSample) - 1.
281; optional; any

# 284	11C.H	PlanarConfiguration		How the components of each pixel are stored. 1 = Chunky format. 2 = Planar format (Baseline TIFF readers are not required to support it.). Default: 1.
284; optional; only(1)

# DO NOT UNCOMMENT! FREE OFFSETS ARE NOT LEGAL FOR LONG TERM ARCHIVAL!
# 288	120.H	FreeOffsets	For each string of contiguous unused bytes in a TIFF file, the byte offset of the string. Not recommended for general interchange.
#288; optional; any

# DO NOT UNCOMMENT! FREE BYTE COUNTS ARE NOT LEGAL FOR LONG TERM ARCHIVAL!
# 289	121.H	FreeByteCounts	For each string of contiguous unused bytes in a TIFF file, the number of bytes in the string. Not recommended for general interchange.
#289; optional; any

# 290	122.H	GrayResponseUnit	The precision of the information contained in the GrayResponseCurve. Default: 2; Recommended: 3
290; optional; range(1, 5)

# 291	123.H	GrayResponseCurve	For grayscale data, the optical density of each possible pixel value.
291; optional; any

# 305	131.H	Software	Name and version number of the software package(s) used to create the image.
305; optional; any

# 306	132.H	DateTime	Date and time of image creation in the format "YYYY:MM:DD HH:MM:SS".
306; optional; any

# 315	13B.H	Person who created the image. Some older TIFF files used this tag for storing Copyright information.
315; optional; any

# 316	13C.H	HostComputer	The computer and/or operating system in use at the time of image creation.
316; optional; any

# DO NOT UNCOMMENT! COLOR MAP TIFFS ARE NOT LEGAL FOR LONG TERM ARCHIVAL!
# 320	140.H	ColorMap	This field defines a Red-Green-Blue color map (often called a lookup table) for palette color images.
#320; optional; any

# DO NOT UNCOMMENT! EXTRA SAMPLES TIFFS ARE NOT LEGAL FOR LONG TERM ARCHIVAL BECAUSE THEIR MEANING CANNOT BE DOCUMENTED!
# 338	152.H	ExtraSamples	Description of extra components.
#338; optional; range(0-2)

# 33432	8298.H	Copyright	Complete copyright notice of the person or organization that claims the copyright to the image.
33432; optional, any


#####
# unanswered questions
#####

# - max. Größe einer TIFF-Datei: 2^32 Bytes
# - Image File Header (IFH)
	# - Bytes 0-1: "II" (little-endian) oder "MM" (big-endian)
		# => darf keine anderen Werte enthalten
	# - Bytes 2-3: 42 (magic number)
		# => darf keine anderen Werte enthalten
	# - Bytes 4-7: offset in Bytes vom Dateianfang bis zum ersten IDF
		# => muss das ausgewertet werden???
# - Image File Directory (IFD)
		# => genau 1 IFD muss vorhanden sein
			# (einerseits min. 1. gefordert, andererseits muss ein Baseline-Tiff-Reader max. 1 lesen)
		# => min. 1 IFD-Eintrag muss pro IFD vorhanden sein
		# => Einträge müssen aufsteigend geordnet sein
	# - Bytes 0-1: Anzahl der IFD-Einträge
		# => muss mit der tatsächlichen Anzahl übereinstimmen
	# - n-Mal je 12 Bytes: IFD-Einträge
		# => n * 12 muss tatsächliche Länge der IFD-Einträge sein
	# - 4 Bytes: Offset zum nächsten IFD (oder "0000" falls kein IFD mehr kommt)
		# => Eintrag muss "0000" sein
# - Tag 262 PhotometricInterpretation
	# - 0 ist auch gültiges Baseline TIFF und sollte mit aufgenommen werden
# - Tag 258 BitsPerSample ist NICHT mandatory für Bilevel Images!!!
	# - 
# Multiple subfiles. TIFF readers must be prepared for multiple images (subfiles) per TIFF file, although they are not required to do anything with images after the first one. TIFF writers are required to write a long word of 0 after the last IFD (to signal that this is the last IFD), as described earlier in this specification.
# 